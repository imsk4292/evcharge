<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EV Charging ROI Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
    h1, h2, h3 { color: #2C3E50; }
    label, input { margin-bottom: 10px; display: block; }
    table { border-collapse: collapse; margin-top: 10px; width: 100%; }
    table, th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    .input-group { margin-bottom: 15px; }
  </style>
</head>
<body>

  <h1>EV Charging ROI Calculator</h1>

  <div class="input-group">
    <label>Charging Price (₹ per kWh):
      <input type="number" id="chargingPrice" value="19" oninput="calculateROI()">
    </label>
  </div>
  <div class="input-group">
    <label>Electricity Cost (₹ per kWh):
      <input type="number" id="electricityCost" value="10" oninput="calculateROI()">
    </label>
  </div>
  <div class="input-group">
    <label>Car Battery Capacity (kWh):
      <input type="number" id="carBattery" value="30" oninput="calculateROI()">
    </label>
  </div>
  <div class="input-group">
    <label>Two-Wheeler Battery Capacity (kWh):
      <input type="number" id="twBattery" value="2" oninput="calculateROI()">
    </label>
  </div>

  <div class="input-group">
    <label>Monthly Rent (₹):
      <input type="number" id="monthlyRent" value="10000" oninput="calculateROI()">
    </label>
  </div>
  <div class="input-group">
    <label>Monthly Insurance Charges (₹):
      <input type="number" id="insuranceCharges" value="1000" oninput="calculateROI()">
    </label>
  </div>
  <div class="input-group">
    <label>Other Monthly Charges (₹):
      <input type="number" id="otherCharges" value="1000" oninput="calculateROI()">
    </label>
  </div>

  <div class="input-group">
    <label>Custom Investment Amount (in Lakh ₹):
      <input type="number" id="customInvestment" value="10" oninput="calculateROI()">
    </label>
  </div>

  <h2>Basic Profit Metrics</h2>
  <table>
    <tr><th>Metric</th><th>Value</th></tr>
    <tr><td>Annual Profit (Before Expenses)</td><td id="profitAnnual">-</td></tr>
    <tr><td>Annual Expenses</td><td id="annualExpenses">-</td></tr>
    <tr><td>Net Annual Profit</td><td id="netProfit">-</td></tr>
  </table>

  <h2>ROI Analysis for Multiple Investment Options</h2>
  <table>
    <tr>
      <th>Investment Option</th>
      <th>Annual Interest Cost</th>
      <th>Net Profit After Interest</th>
      <th>Payback Period</th>
    </tr>
    <tr>
      <td>10 Lakh ₹</td>
      <td id="interestCost10">-</td>
      <td id="effectiveProfit10">-</td>
      <td id="paybackPeriod10">-</td>
    </tr>
    <tr>
      <td>20 Lakh ₹</td>
      <td id="interestCost20">-</td>
      <td id="effectiveProfit20">-</td>
      <td id="paybackPeriod20">-</td>
    </tr>
    <tr>
      <td>30 Lakh ₹</td>
      <td id="interestCost30">-</td>
      <td id="effectiveProfit30">-</td>
      <td id="paybackPeriod30">-</td>
    </tr>
    <tr>
      <td>Custom Investment</td>
      <td id="interestCostCustom">-</td>
      <td id="effectiveProfitCustom">-</td>
      <td id="paybackPeriodCustom">-</td>
    </tr>
  </table>

  <script>
    function formatLakhs(amount) {
      return '₹' + (amount / 100000).toFixed(2) + ' Lakh';
    }

    function calculateROI() {
      let pricePerKWh = parseFloat(document.getElementById('chargingPrice').value);
      let costPerKWh = parseFloat(document.getElementById('electricityCost').value);
      let carBattery = parseFloat(document.getElementById('carBattery').value);
      let twBattery = parseFloat(document.getElementById('twBattery').value);
      let rent = parseFloat(document.getElementById('monthlyRent').value);
      let insurance = parseFloat(document.getElementById('insuranceCharges').value);
      let otherCharges = parseFloat(document.getElementById('otherCharges').value);
      let customInvestmentInput = parseFloat(document.getElementById('customInvestment').value) * 100000;

      let interestRate = 7 / 100;
      let investments = [1000000, 2000000, 3000000];

      let marginPerKWh = pricePerKWh - costPerKWh;
      let profitCar = carBattery * marginPerKWh;
      let profitTW = twBattery * marginPerKWh;

      let profitWeekday = (2 * profitCar) + (5 * profitTW);
      let profitWeekend = (5 * profitCar) + (10 * profitTW);
      let profitWeekly = (profitWeekday * 5) + (profitWeekend * 2);
      let profitAnnual = profitWeekly * 52;

      let annualExpenses = (rent + insurance + otherCharges) * 12;
      let netProfit = profitAnnual - annualExpenses;

      document.getElementById('profitAnnual').innerText = formatLakhs(profitAnnual);
      document.getElementById('annualExpenses').innerText = formatLakhs(annualExpenses);
      document.getElementById('netProfit').innerText = formatLakhs(netProfit);

      investments.forEach((inv, index) => {
        let interestCost = inv * interestRate;
        let effectiveProfit = netProfit - interestCost;
        let payback = effectiveProfit > 0 ? (inv / effectiveProfit).toFixed(1) + ' years' : 'Not Profitable';

        let idSuffix = (index + 1) * 10;
        document.getElementById('interestCost' + idSuffix).innerText = formatLakhs(interestCost);
        document.getElementById('effectiveProfit' + idSuffix).innerText = formatLakhs(effectiveProfit);
        document.getElementById('paybackPeriod' + idSuffix).innerText = payback;
      });

      let customInterest = customInvestmentInput * interestRate;
      let customEffectiveProfit = netProfit - customInterest;
      let customPayback = customEffectiveProfit > 0 ? (customInvestmentInput / customEffectiveProfit).toFixed(1) + ' years' : 'Not Profitable';

      document.getElementById('interestCostCustom').innerText = formatLakhs(customInterest);
      document.getElementById('effectiveProfitCustom').innerText = formatLakhs(customEffectiveProfit);
      document.getElementById('paybackPeriodCustom').innerText = customPayback;
    }

    document.addEventListener("DOMContentLoaded", calculateROI);
  </script>

</body>
</html>
